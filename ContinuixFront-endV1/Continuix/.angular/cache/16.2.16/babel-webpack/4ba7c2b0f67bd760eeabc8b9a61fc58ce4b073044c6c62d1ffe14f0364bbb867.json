{"ast":null,"code":"import { Validators } from '@angular/forms';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/forms\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"@angular/material/input\";\nimport * as i4 from \"@angular/material/form-field\";\nimport * as i5 from \"@angular/material/button\";\nimport * as i6 from \"@angular/material/icon\";\nfunction SimulatePcaComponent_mat_option_8_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-option\", 13);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const type_r10 = ctx.$implicit;\n    i0.ɵɵproperty(\"value\", type_r10);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(type_r10);\n  }\n}\nfunction SimulatePcaComponent_mat_error_9_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-error\");\n    i0.ɵɵtext(1, \" Ce champ est requis \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction SimulatePcaComponent_mat_option_14_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-option\", 13);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const impact_r11 = ctx.$implicit;\n    i0.ɵɵproperty(\"value\", impact_r11);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(impact_r11);\n  }\n}\nfunction SimulatePcaComponent_mat_error_15_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-error\");\n    i0.ɵɵtext(1, \" Ce champ est requis \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction SimulatePcaComponent_mat_option_20_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-option\", 13);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const groupe_r12 = ctx.$implicit;\n    i0.ɵɵproperty(\"value\", groupe_r12.id);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(groupe_r12.name);\n  }\n}\nfunction SimulatePcaComponent_mat_error_21_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-error\");\n    i0.ɵɵtext(1, \" Ce champ est requis \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction SimulatePcaComponent_mat_icon_27_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-icon\");\n    i0.ɵɵtext(1, \"play_arrow\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction SimulatePcaComponent_mat_progress_spinner_28_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"mat-progress-spinner\", 14);\n  }\n}\nfunction SimulatePcaComponent_span_29_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1, \"Lancer la simulation\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction SimulatePcaComponent_div_30_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 15);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r9 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"@fadeInAnimation\", undefined);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r9.submissionMessage, \" \");\n  }\n}\nexport class SimulatePcaComponent {\n  constructor(fb) {\n    this.fb = fb;\n    this.incidentTypes = ['Incendie', 'Cyberattaque', 'Panne électrique', 'Inondation', 'Autre'];\n    this.impacts = ['Faible', 'Moyen', 'Élevé'];\n    this.groupes = [];\n    this.isSubmitting = false;\n    this.submissionMessage = '';\n  }\n  ngOnInit() {\n    this.simulateForm = this.fb.group({\n      incidentType: ['', Validators.required],\n      impact: ['', Validators.required],\n      groupeId: ['', Validators.required],\n      commentaire: ['']\n    });\n    this.loadGroupes();\n  }\n  loadGroupes() {\n    // TODO : remplacer par appel API pour récupérer la liste des groupes\n    this.groupes = [{\n      id: 1,\n      name: 'Groupe IT'\n    }, {\n      id: 2,\n      name: 'Groupe RH'\n    }, {\n      id: 3,\n      name: 'Groupe Finance'\n    }, {\n      id: 4,\n      name: 'Groupe Support'\n    }];\n  }\n  onSubmit() {\n    if (this.simulateForm.invalid) {\n      this.submissionMessage = 'Merci de remplir tous les champs obligatoires.';\n      return;\n    }\n    this.isSubmitting = true;\n    this.submissionMessage = '';\n    // Données du formulaire\n    const formData = this.simulateForm.value;\n    console.log('Simulation PCA lancée avec les données:', formData);\n    // TODO : appeler le service backend pour lancer la simulation\n    // Exemple (à adapter) :\n    /*\n    this.pcaService.simulatePca(formData).subscribe({\n      next: (response) => {\n        this.isSubmitting = false;\n        this.submissionMessage = 'Simulation PCA lancée avec succès !';\n      },\n      error: (error) => {\n        this.isSubmitting = false;\n        this.submissionMessage = 'Erreur lors du lancement de la simulation.';\n        console.error(error);\n      }\n    });\n    */\n    // Pour test, simuler délai puis succès\n    setTimeout(() => {\n      this.isSubmitting = false;\n      this.submissionMessage = 'Simulation PCA lancée avec succès !';\n    }, 1500);\n  }\n  static {\n    this.ɵfac = function SimulatePcaComponent_Factory(t) {\n      return new (t || SimulatePcaComponent)(i0.ɵɵdirectiveInject(i1.FormBuilder));\n    };\n  }\n  static {\n    this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: SimulatePcaComponent,\n      selectors: [[\"app-simulate-pca\"]],\n      decls: 31,\n      vars: 13,\n      consts: [[1, \"simulate-pca-container\"], [1, \"title\"], [1, \"form\", 3, \"formGroup\", \"ngSubmit\"], [\"appearance\", \"fill\", 1, \"full-width\"], [\"formControlName\", \"incidentType\", \"required\", \"\"], [3, \"value\", 4, \"ngFor\", \"ngForOf\"], [4, \"ngIf\"], [\"formControlName\", \"impact\", \"required\", \"\"], [\"formControlName\", \"groupeId\", \"required\", \"\"], [\"matInput\", \"\", \"rows\", \"3\", \"formControlName\", \"commentaire\"], [\"mat-raised-button\", \"\", \"color\", \"primary\", 1, \"submit-btn\", 3, \"disabled\"], [\"mode\", \"indeterminate\", \"diameter\", \"24\", \"color\", \"accent\", 4, \"ngIf\"], [\"class\", \"message\", 4, \"ngIf\"], [3, \"value\"], [\"mode\", \"indeterminate\", \"diameter\", \"24\", \"color\", \"accent\"], [1, \"message\"]],\n      template: function SimulatePcaComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"div\", 0)(1, \"h2\", 1);\n          i0.ɵɵtext(2, \"\\uD83D\\uDEA8 Lancer une simulation PCA\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(3, \"form\", 2);\n          i0.ɵɵlistener(\"ngSubmit\", function SimulatePcaComponent_Template_form_ngSubmit_3_listener() {\n            return ctx.onSubmit();\n          });\n          i0.ɵɵelementStart(4, \"mat-form-field\", 3)(5, \"mat-label\");\n          i0.ɵɵtext(6, \"Type d'incident *\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(7, \"mat-select\", 4);\n          i0.ɵɵtemplate(8, SimulatePcaComponent_mat_option_8_Template, 2, 2, \"mat-option\", 5);\n          i0.ɵɵelementEnd();\n          i0.ɵɵtemplate(9, SimulatePcaComponent_mat_error_9_Template, 2, 0, \"mat-error\", 6);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(10, \"mat-form-field\", 3)(11, \"mat-label\");\n          i0.ɵɵtext(12, \"Impact *\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(13, \"mat-select\", 7);\n          i0.ɵɵtemplate(14, SimulatePcaComponent_mat_option_14_Template, 2, 2, \"mat-option\", 5);\n          i0.ɵɵelementEnd();\n          i0.ɵɵtemplate(15, SimulatePcaComponent_mat_error_15_Template, 2, 0, \"mat-error\", 6);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(16, \"mat-form-field\", 3)(17, \"mat-label\");\n          i0.ɵɵtext(18, \"Groupe concern\\u00E9 *\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(19, \"mat-select\", 8);\n          i0.ɵɵtemplate(20, SimulatePcaComponent_mat_option_20_Template, 2, 2, \"mat-option\", 5);\n          i0.ɵɵelementEnd();\n          i0.ɵɵtemplate(21, SimulatePcaComponent_mat_error_21_Template, 2, 0, \"mat-error\", 6);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(22, \"mat-form-field\", 3)(23, \"mat-label\");\n          i0.ɵɵtext(24, \"Commentaire (optionnel)\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelement(25, \"textarea\", 9);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(26, \"button\", 10);\n          i0.ɵɵtemplate(27, SimulatePcaComponent_mat_icon_27_Template, 2, 0, \"mat-icon\", 6);\n          i0.ɵɵtemplate(28, SimulatePcaComponent_mat_progress_spinner_28_Template, 1, 0, \"mat-progress-spinner\", 11);\n          i0.ɵɵtemplate(29, SimulatePcaComponent_span_29_Template, 2, 0, \"span\", 6);\n          i0.ɵɵelementEnd()();\n          i0.ɵɵtemplate(30, SimulatePcaComponent_div_30_Template, 2, 2, \"div\", 12);\n          i0.ɵɵelementEnd();\n        }\n        if (rf & 2) {\n          let tmp_2_0;\n          let tmp_4_0;\n          let tmp_6_0;\n          i0.ɵɵproperty(\"@fadeInAnimation\", undefined);\n          i0.ɵɵadvance(3);\n          i0.ɵɵproperty(\"formGroup\", ctx.simulateForm);\n          i0.ɵɵadvance(5);\n          i0.ɵɵproperty(\"ngForOf\", ctx.incidentTypes);\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", (tmp_2_0 = ctx.simulateForm.get(\"incidentType\")) == null ? null : tmp_2_0.hasError(\"required\"));\n          i0.ɵɵadvance(5);\n          i0.ɵɵproperty(\"ngForOf\", ctx.impacts);\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", (tmp_4_0 = ctx.simulateForm.get(\"impact\")) == null ? null : tmp_4_0.hasError(\"required\"));\n          i0.ɵɵadvance(5);\n          i0.ɵɵproperty(\"ngForOf\", ctx.groupes);\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", (tmp_6_0 = ctx.simulateForm.get(\"groupeId\")) == null ? null : tmp_6_0.hasError(\"required\"));\n          i0.ɵɵadvance(5);\n          i0.ɵɵproperty(\"disabled\", ctx.isSubmitting || ctx.simulateForm.invalid);\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", !ctx.isSubmitting);\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", ctx.isSubmitting);\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", !ctx.isSubmitting);\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", ctx.submissionMessage);\n        }\n      },\n      dependencies: [i2.NgForOf, i2.NgIf, i1.ɵNgNoValidate, i1.DefaultValueAccessor, i1.NgControlStatus, i1.NgControlStatusGroup, i1.RequiredValidator, i1.FormGroupDirective, i1.FormControlName, i3.MatInput, i4.MatFormField, i4.MatLabel, i4.MatError, i5.MatButton, i6.MatIcon],\n      styles: [\".simulate-pca-container[_ngcontent-%COMP%] {\\n  max-width: 400px;\\n  margin: 20px auto;\\n  padding: 15px;\\n  border: 1px solid #ccc;\\n  border-radius: 6px;\\n  background-color: #f9f9f9;\\n}\\n\\nh2[_ngcontent-%COMP%] {\\n  text-align: center;\\n  margin-bottom: 20px;\\n}\\n\\n.form-group[_ngcontent-%COMP%] {\\n  margin-bottom: 15px;\\n}\\n\\nlabel[_ngcontent-%COMP%] {\\n  display: block;\\n  font-weight: 600;\\n  margin-bottom: 6px;\\n}\\n\\nselect[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%], button[_ngcontent-%COMP%] {\\n  width: 100%;\\n  padding: 8px;\\n  box-sizing: border-box;\\n}\\n\\nbutton[_ngcontent-%COMP%] {\\n  background-color: #007bff;\\n  color: white;\\n  border: none;\\n  font-weight: 600;\\n  cursor: pointer;\\n  border-radius: 4px;\\n  transition: background-color 0.3s ease;\\n}\\n\\nbutton[disabled][_ngcontent-%COMP%] {\\n  background-color: #7da7d9;\\n  cursor: not-allowed;\\n}\\n\\nbutton[_ngcontent-%COMP%]:hover:not([disabled]) {\\n  background-color: #0056b3;\\n}\\n\\n.message[_ngcontent-%COMP%] {\\n  margin-top: 15px;\\n  font-weight: 600;\\n  text-align: center;\\n  color: green;\\n}\"]\n    });\n  }\n}","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}