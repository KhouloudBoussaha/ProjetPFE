{"ast":null,"code":"import { Validators } from '@angular/forms';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/forms\";\nimport * as i2 from \"@angular/common\";\nfunction SimulatePcaComponent_option_10_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 15);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const type_r4 = ctx.$implicit;\n    i0.ɵɵproperty(\"value\", type_r4);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(type_r4);\n  }\n}\nfunction SimulatePcaComponent_option_17_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 15);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const impact_r5 = ctx.$implicit;\n    i0.ɵɵproperty(\"value\", impact_r5);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(impact_r5);\n  }\n}\nfunction SimulatePcaComponent_option_24_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 15);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const groupe_r6 = ctx.$implicit;\n    i0.ɵɵproperty(\"value\", groupe_r6.id);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(groupe_r6.name);\n  }\n}\nfunction SimulatePcaComponent_div_31_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 16);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r3 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r3.submissionMessage, \" \");\n  }\n}\nexport class SimulatePcaComponent {\n  constructor(fb) {\n    this.fb = fb;\n    this.incidentTypes = ['Incendie', 'Cyberattaque', 'Panne électrique', 'Inondation', 'Autre'];\n    this.impacts = ['Faible', 'Moyen', 'Élevé'];\n    this.groupes = [];\n    this.isSubmitting = false;\n    this.submissionMessage = '';\n  }\n  ngOnInit() {\n    this.simulateForm = this.fb.group({\n      incidentType: ['', Validators.required],\n      impact: ['', Validators.required],\n      groupeId: ['', Validators.required],\n      commentaire: ['']\n    });\n    this.loadGroupes();\n  }\n  loadGroupes() {\n    // TODO : remplacer par appel API pour récupérer la liste des groupes\n    this.groupes = [{\n      id: 1,\n      name: 'Groupe IT'\n    }, {\n      id: 2,\n      name: 'Groupe RH'\n    }, {\n      id: 3,\n      name: 'Groupe Finance'\n    }, {\n      id: 4,\n      name: 'Groupe Support'\n    }];\n  }\n  onSubmit() {\n    if (this.simulateForm.invalid) {\n      this.submissionMessage = 'Merci de remplir tous les champs obligatoires.';\n      return;\n    }\n    this.isSubmitting = true;\n    this.submissionMessage = '';\n    // Données du formulaire\n    const formData = this.simulateForm.value;\n    console.log('Simulation PCA lancée avec les données:', formData);\n    // TODO : appeler le service backend pour lancer la simulation\n    // Exemple (à adapter) :\n    /*\n    this.pcaService.simulatePca(formData).subscribe({\n      next: (response) => {\n        this.isSubmitting = false;\n        this.submissionMessage = 'Simulation PCA lancée avec succès !';\n      },\n      error: (error) => {\n        this.isSubmitting = false;\n        this.submissionMessage = 'Erreur lors du lancement de la simulation.';\n        console.error(error);\n      }\n    });\n    */\n    // Pour test, simuler délai puis succès\n    setTimeout(() => {\n      this.isSubmitting = false;\n      this.submissionMessage = 'Simulation PCA lancée avec succès !';\n    }, 1500);\n  }\n  static {\n    this.ɵfac = function SimulatePcaComponent_Factory(t) {\n      return new (t || SimulatePcaComponent)(i0.ɵɵdirectiveInject(i1.FormBuilder));\n    };\n  }\n  static {\n    this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: SimulatePcaComponent,\n      selectors: [[\"app-simulate-pca\"]],\n      decls: 32,\n      vars: 6,\n      consts: [[1, \"simulate-pca-container\"], [3, \"formGroup\", \"ngSubmit\"], [1, \"form-group\"], [\"for\", \"incidentType\"], [\"id\", \"incidentType\", \"formControlName\", \"incidentType\", \"required\", \"\"], [\"value\", \"\", \"disabled\", \"\", \"selected\", \"\"], [3, \"value\", 4, \"ngFor\", \"ngForOf\"], [\"for\", \"impact\"], [\"id\", \"impact\", \"formControlName\", \"impact\", \"required\", \"\"], [\"for\", \"groupeId\"], [\"id\", \"groupeId\", \"formControlName\", \"groupeId\", \"required\", \"\"], [\"for\", \"commentaire\"], [\"id\", \"commentaire\", \"formControlName\", \"commentaire\", \"rows\", \"3\"], [\"type\", \"submit\", 3, \"disabled\"], [\"class\", \"message\", 4, \"ngIf\"], [3, \"value\"], [1, \"message\"]],\n      template: function SimulatePcaComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"div\", 0)(1, \"h2\");\n          i0.ɵɵtext(2, \"Lancer une simulation PCA\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(3, \"form\", 1);\n          i0.ɵɵlistener(\"ngSubmit\", function SimulatePcaComponent_Template_form_ngSubmit_3_listener() {\n            return ctx.onSubmit();\n          });\n          i0.ɵɵelementStart(4, \"div\", 2)(5, \"label\", 3);\n          i0.ɵɵtext(6, \"Type d'incident *\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(7, \"select\", 4)(8, \"option\", 5);\n          i0.ɵɵtext(9, \"-- S\\u00E9lectionner --\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵtemplate(10, SimulatePcaComponent_option_10_Template, 2, 2, \"option\", 6);\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(11, \"div\", 2)(12, \"label\", 7);\n          i0.ɵɵtext(13, \"Impact *\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(14, \"select\", 8)(15, \"option\", 5);\n          i0.ɵɵtext(16, \"-- S\\u00E9lectionner --\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵtemplate(17, SimulatePcaComponent_option_17_Template, 2, 2, \"option\", 6);\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(18, \"div\", 2)(19, \"label\", 9);\n          i0.ɵɵtext(20, \"Groupe concern\\u00E9 *\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(21, \"select\", 10)(22, \"option\", 5);\n          i0.ɵɵtext(23, \"-- S\\u00E9lectionner --\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵtemplate(24, SimulatePcaComponent_option_24_Template, 2, 2, \"option\", 6);\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(25, \"div\", 2)(26, \"label\", 11);\n          i0.ɵɵtext(27, \"Commentaire (optionnel)\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelement(28, \"textarea\", 12);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(29, \"button\", 13);\n          i0.ɵɵtext(30, \"Lancer la simulation\");\n          i0.ɵɵelementEnd()();\n          i0.ɵɵtemplate(31, SimulatePcaComponent_div_31_Template, 2, 1, \"div\", 14);\n          i0.ɵɵelementEnd();\n        }\n        if (rf & 2) {\n          i0.ɵɵadvance(3);\n          i0.ɵɵproperty(\"formGroup\", ctx.simulateForm);\n          i0.ɵɵadvance(7);\n          i0.ɵɵproperty(\"ngForOf\", ctx.incidentTypes);\n          i0.ɵɵadvance(7);\n          i0.ɵɵproperty(\"ngForOf\", ctx.impacts);\n          i0.ɵɵadvance(7);\n          i0.ɵɵproperty(\"ngForOf\", ctx.groupes);\n          i0.ɵɵadvance(5);\n          i0.ɵɵproperty(\"disabled\", ctx.isSubmitting);\n          i0.ɵɵadvance(2);\n          i0.ɵɵproperty(\"ngIf\", ctx.submissionMessage);\n        }\n      },\n      dependencies: [i2.NgForOf, i2.NgIf, i1.ɵNgNoValidate, i1.NgSelectOption, i1.ɵNgSelectMultipleOption, i1.DefaultValueAccessor, i1.SelectControlValueAccessor, i1.NgControlStatus, i1.NgControlStatusGroup, i1.RequiredValidator, i1.FormGroupDirective, i1.FormControlName],\n      styles: [\".simulate-pca-container[_ngcontent-%COMP%] {\\n  max-width: 400px;\\n  margin: 20px auto;\\n  padding: 15px;\\n  border: 1px solid #ccc;\\n  border-radius: 6px;\\n  background-color: #f9f9f9;\\n}\\n\\nh2[_ngcontent-%COMP%] {\\n  text-align: center;\\n  margin-bottom: 20px;\\n}\\n\\n.form-group[_ngcontent-%COMP%] {\\n  margin-bottom: 15px;\\n}\\n\\nlabel[_ngcontent-%COMP%] {\\n  display: block;\\n  font-weight: 600;\\n  margin-bottom: 6px;\\n}\\n\\nselect[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%], button[_ngcontent-%COMP%] {\\n  width: 100%;\\n  padding: 8px;\\n  box-sizing: border-box;\\n}\\n\\nbutton[_ngcontent-%COMP%] {\\n  background-color: #007bff;\\n  color: white;\\n  border: none;\\n  font-weight: 600;\\n  cursor: pointer;\\n  border-radius: 4px;\\n  transition: background-color 0.3s ease;\\n}\\n\\nbutton[disabled][_ngcontent-%COMP%] {\\n  background-color: #7da7d9;\\n  cursor: not-allowed;\\n}\\n\\nbutton[_ngcontent-%COMP%]:hover:not([disabled]) {\\n  background-color: #0056b3;\\n}\\n\\n.message[_ngcontent-%COMP%] {\\n  margin-top: 15px;\\n  font-weight: 600;\\n  text-align: center;\\n  color: green;\\n}\"]\n    });\n  }\n}","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}