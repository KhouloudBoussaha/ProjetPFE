{"ast":null,"code":"import { Validators } from '@angular/forms';\nimport { trigger, style, transition, animate } from '@angular/animations';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/forms\";\nimport * as i2 from \"@angular/common\";\nfunction SimulatePcaComponent_option_12_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ÉµÉµelementStart(0, \"option\", 19);\n    i0.ÉµÉµtext(1);\n    i0.ÉµÉµelementEnd();\n  }\n  if (rf & 2) {\n    const type_r10 = ctx.$implicit;\n    i0.ÉµÉµproperty(\"value\", type_r10);\n    i0.ÉµÉµadvance(1);\n    i0.ÉµÉµtextInterpolate(type_r10);\n  }\n}\nfunction SimulatePcaComponent_p_13_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ÉµÉµelementStart(0, \"p\", 20);\n    i0.ÉµÉµtext(1, \" Ce champ est requis \");\n    i0.ÉµÉµelementEnd();\n  }\n}\nfunction SimulatePcaComponent_option_22_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ÉµÉµelementStart(0, \"option\", 19);\n    i0.ÉµÉµtext(1);\n    i0.ÉµÉµelementEnd();\n  }\n  if (rf & 2) {\n    const impact_r11 = ctx.$implicit;\n    i0.ÉµÉµproperty(\"value\", impact_r11);\n    i0.ÉµÉµadvance(1);\n    i0.ÉµÉµtextInterpolate(impact_r11);\n  }\n}\nfunction SimulatePcaComponent_p_23_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ÉµÉµelementStart(0, \"p\", 20);\n    i0.ÉµÉµtext(1, \" Ce champ est requis \");\n    i0.ÉµÉµelementEnd();\n  }\n}\nfunction SimulatePcaComponent_option_32_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ÉµÉµelementStart(0, \"option\", 19);\n    i0.ÉµÉµtext(1);\n    i0.ÉµÉµelementEnd();\n  }\n  if (rf & 2) {\n    const groupe_r12 = ctx.$implicit;\n    i0.ÉµÉµproperty(\"value\", groupe_r12.id);\n    i0.ÉµÉµadvance(1);\n    i0.ÉµÉµtextInterpolate(groupe_r12.name);\n  }\n}\nfunction SimulatePcaComponent_p_33_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ÉµÉµelementStart(0, \"p\", 20);\n    i0.ÉµÉµtext(1, \" Ce champ est requis \");\n    i0.ÉµÉµelementEnd();\n  }\n}\nfunction SimulatePcaComponent_ng_container_39_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ÉµÉµelementContainerStart(0);\n    i0.ÉµÉµnamespaceSVG();\n    i0.ÉµÉµelementStart(1, \"svg\", 21);\n    i0.ÉµÉµelement(2, \"path\", 22);\n    i0.ÉµÉµelementEnd();\n    i0.ÉµÉµtext(3, \" Lancer la simulation \");\n    i0.ÉµÉµelementContainerEnd();\n  }\n}\nfunction SimulatePcaComponent_ng_template_40_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ÉµÉµnamespaceSVG();\n    i0.ÉµÉµelementStart(0, \"svg\", 23);\n    i0.ÉµÉµelement(1, \"circle\", 24)(2, \"path\", 25);\n    i0.ÉµÉµelementEnd();\n    i0.ÉµÉµtext(3, \" Chargement... \");\n  }\n}\nfunction SimulatePcaComponent_p_42_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ÉµÉµelementStart(0, \"p\", 26);\n    i0.ÉµÉµtext(1);\n    i0.ÉµÉµelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r9 = i0.ÉµÉµnextContext();\n    i0.ÉµÉµadvance(1);\n    i0.ÉµÉµtextInterpolate1(\" \", ctx_r9.submissionMessage, \" \");\n  }\n}\nconst _c0 = function (a0) {\n  return {\n    \"border-red-500\": a0\n  };\n};\nexport class SimulatePcaComponent {\n  constructor(fb) {\n    this.fb = fb;\n    this.incidentTypes = ['Incendie', 'Cyberattaque', 'Panne Ã©lectrique', 'Inondation', 'Autre'];\n    this.impacts = ['Faible', 'Moyen', 'Ã‰levÃ©'];\n    this.groupes = [];\n    this.isSubmitting = false;\n    this.submissionMessage = '';\n  }\n  ngOnInit() {\n    this.simulateForm = this.fb.group({\n      incidentType: ['', Validators.required],\n      impact: ['', Validators.required],\n      groupeId: ['', Validators.required],\n      commentaire: ['']\n    });\n    this.loadGroupes();\n  }\n  loadGroupes() {\n    // TODO : Remplacer par appel API rÃ©el\n    this.groupes = [{\n      id: 1,\n      name: 'Groupe IT'\n    }, {\n      id: 2,\n      name: 'Groupe RH'\n    }, {\n      id: 3,\n      name: 'Groupe Finance'\n    }, {\n      id: 4,\n      name: 'Groupe Support'\n    }];\n  }\n  onSubmit() {\n    if (this.simulateForm.invalid) {\n      this.submissionMessage = 'Merci de remplir tous les champs obligatoires.';\n      return;\n    }\n    this.isSubmitting = true;\n    this.submissionMessage = '';\n    const formData = this.simulateForm.value;\n    console.log('Simulation PCA lancÃ©e avec les donnÃ©es:', formData);\n    // TODO: Appeler le backend via service Angular ici\n    setTimeout(() => {\n      this.isSubmitting = false;\n      this.submissionMessage = 'Simulation PCA lancÃ©e avec succÃ¨s ! ðŸŽ‰';\n    }, 1500);\n  }\n  static {\n    this.Éµfac = function SimulatePcaComponent_Factory(t) {\n      return new (t || SimulatePcaComponent)(i0.ÉµÉµdirectiveInject(i1.FormBuilder));\n    };\n  }\n  static {\n    this.Éµcmp = /*@__PURE__*/i0.ÉµÉµdefineComponent({\n      type: SimulatePcaComponent,\n      selectors: [[\"app-simulate-pca\"]],\n      decls: 43,\n      vars: 20,\n      consts: [[1, \"max-w-lg\", \"mx-auto\", \"p-8\", \"bg-white\", \"rounded-xl\", \"shadow-lg\", \"space-y-6\"], [1, \"text-3xl\", \"font-extrabold\", \"text-center\", \"text-indigo-600\"], [1, \"space-y-6\", 3, \"formGroup\", \"ngSubmit\"], [\"for\", \"incidentType\", 1, \"block\", \"text-sm\", \"font-medium\", \"text-gray-700\", \"mb-1\"], [1, \"text-red-500\"], [\"id\", \"incidentType\", \"formControlName\", \"incidentType\", 1, \"block\", \"w-full\", \"rounded-md\", \"border\", \"border-gray-300\", \"py-2\", \"px-3\", \"shadow-sm\", \"focus:outline-none\", \"focus:ring-indigo-500\", \"focus:border-indigo-500\", 3, \"ngClass\"], [\"value\", \"\", \"disabled\", \"\"], [3, \"value\", 4, \"ngFor\", \"ngForOf\"], [\"class\", \"text-red-500 text-sm mt-1\", 4, \"ngIf\"], [\"for\", \"impact\", 1, \"block\", \"text-sm\", \"font-medium\", \"text-gray-700\", \"mb-1\"], [\"id\", \"impact\", \"formControlName\", \"impact\", 1, \"block\", \"w-full\", \"rounded-md\", \"border\", \"border-gray-300\", \"py-2\", \"px-3\", \"shadow-sm\", \"focus:outline-none\", \"focus:ring-indigo-500\", \"focus:border-indigo-500\", 3, \"ngClass\"], [\"for\", \"groupeId\", 1, \"block\", \"text-sm\", \"font-medium\", \"text-gray-700\", \"mb-1\"], [\"id\", \"groupeId\", \"formControlName\", \"groupeId\", 1, \"block\", \"w-full\", \"rounded-md\", \"border\", \"border-gray-300\", \"py-2\", \"px-3\", \"shadow-sm\", \"focus:outline-none\", \"focus:ring-indigo-500\", \"focus:border-indigo-500\", 3, \"ngClass\"], [\"for\", \"commentaire\", 1, \"block\", \"text-sm\", \"font-medium\", \"text-gray-700\", \"mb-1\"], [\"id\", \"commentaire\", \"formControlName\", \"commentaire\", \"rows\", \"3\", \"placeholder\", \"Ajouter un commentaire...\", 1, \"block\", \"w-full\", \"rounded-md\", \"border\", \"border-gray-300\", \"py-2\", \"px-3\", \"shadow-sm\", \"focus:outline-none\", \"focus:ring-indigo-500\", \"focus:border-indigo-500\", \"resize-none\"], [\"type\", \"submit\", 1, \"w-full\", \"py-3\", \"bg-indigo-600\", \"text-white\", \"font-semibold\", \"rounded-lg\", \"shadow-md\", \"hover:bg-indigo-700\", \"transition-colors\", \"duration-300\", \"focus:outline-none\", \"focus:ring-2\", \"focus:ring-indigo-500\", \"focus:ring-offset-2\", 3, \"disabled\"], [4, \"ngIf\", \"ngIfElse\"], [\"loading\", \"\"], [\"class\", \"mt-4 text-center text-green-600 font-semibold\", 4, \"ngIf\"], [3, \"value\"], [1, \"text-red-500\", \"text-sm\", \"mt-1\"], [\"fill\", \"none\", \"stroke\", \"currentColor\", \"stroke-width\", \"2\", \"viewBox\", \"0 0 24 24\", \"xmlns\", \"http://www.w3.org/2000/svg\", \"aria-hidden\", \"true\", 1, \"inline-block\", \"w-5\", \"h-5\", \"mr-2\", \"-mt-1\"], [\"stroke-linecap\", \"round\", \"stroke-linejoin\", \"round\", \"d\", \"M14.752 11.168l-6.518-3.76A.75.75 0 007 8.375v7.25a.75.75 0 001.234.628l6.518-4.386a.75.75 0 000-1.299z\"], [\"xmlns\", \"http://www.w3.org/2000/svg\", \"fill\", \"none\", \"viewBox\", \"0 0 24 24\", 1, \"animate-spin\", \"h-5\", \"w-5\", \"mr-2\", \"text-white\", \"inline-block\"], [\"cx\", \"12\", \"cy\", \"12\", \"r\", \"10\", \"stroke\", \"currentColor\", \"stroke-width\", \"4\", 1, \"opacity-25\"], [\"fill\", \"currentColor\", \"d\", \"M4 12a8 8 0 018-8v8z\", 1, \"opacity-75\"], [1, \"mt-4\", \"text-center\", \"text-green-600\", \"font-semibold\"]],\n      template: function SimulatePcaComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ÉµÉµelementStart(0, \"div\", 0)(1, \"h2\", 1);\n          i0.ÉµÉµtext(2, \" \\uD83D\\uDEA8 Lancer une simulation PCA \");\n          i0.ÉµÉµelementEnd();\n          i0.ÉµÉµelementStart(3, \"form\", 2);\n          i0.ÉµÉµlistener(\"ngSubmit\", function SimulatePcaComponent_Template_form_ngSubmit_3_listener() {\n            return ctx.onSubmit();\n          });\n          i0.ÉµÉµelementStart(4, \"div\")(5, \"label\", 3);\n          i0.ÉµÉµtext(6, \" Type d'incident \");\n          i0.ÉµÉµelementStart(7, \"span\", 4);\n          i0.ÉµÉµtext(8, \"*\");\n          i0.ÉµÉµelementEnd()();\n          i0.ÉµÉµelementStart(9, \"select\", 5)(10, \"option\", 6);\n          i0.ÉµÉµtext(11, \"-- S\\u00E9lectionner --\");\n          i0.ÉµÉµelementEnd();\n          i0.ÉµÉµtemplate(12, SimulatePcaComponent_option_12_Template, 2, 2, \"option\", 7);\n          i0.ÉµÉµelementEnd();\n          i0.ÉµÉµtemplate(13, SimulatePcaComponent_p_13_Template, 2, 0, \"p\", 8);\n          i0.ÉµÉµelementEnd();\n          i0.ÉµÉµelementStart(14, \"div\")(15, \"label\", 9);\n          i0.ÉµÉµtext(16, \" Impact \");\n          i0.ÉµÉµelementStart(17, \"span\", 4);\n          i0.ÉµÉµtext(18, \"*\");\n          i0.ÉµÉµelementEnd()();\n          i0.ÉµÉµelementStart(19, \"select\", 10)(20, \"option\", 6);\n          i0.ÉµÉµtext(21, \"-- S\\u00E9lectionner --\");\n          i0.ÉµÉµelementEnd();\n          i0.ÉµÉµtemplate(22, SimulatePcaComponent_option_22_Template, 2, 2, \"option\", 7);\n          i0.ÉµÉµelementEnd();\n          i0.ÉµÉµtemplate(23, SimulatePcaComponent_p_23_Template, 2, 0, \"p\", 8);\n          i0.ÉµÉµelementEnd();\n          i0.ÉµÉµelementStart(24, \"div\")(25, \"label\", 11);\n          i0.ÉµÉµtext(26, \" Groupe concern\\u00E9 \");\n          i0.ÉµÉµelementStart(27, \"span\", 4);\n          i0.ÉµÉµtext(28, \"*\");\n          i0.ÉµÉµelementEnd()();\n          i0.ÉµÉµelementStart(29, \"select\", 12)(30, \"option\", 6);\n          i0.ÉµÉµtext(31, \"-- S\\u00E9lectionner --\");\n          i0.ÉµÉµelementEnd();\n          i0.ÉµÉµtemplate(32, SimulatePcaComponent_option_32_Template, 2, 2, \"option\", 7);\n          i0.ÉµÉµelementEnd();\n          i0.ÉµÉµtemplate(33, SimulatePcaComponent_p_33_Template, 2, 0, \"p\", 8);\n          i0.ÉµÉµelementEnd();\n          i0.ÉµÉµelementStart(34, \"div\")(35, \"label\", 13);\n          i0.ÉµÉµtext(36, \" Commentaire (optionnel) \");\n          i0.ÉµÉµelementEnd();\n          i0.ÉµÉµelement(37, \"textarea\", 14);\n          i0.ÉµÉµelementEnd();\n          i0.ÉµÉµelementStart(38, \"button\", 15);\n          i0.ÉµÉµtemplate(39, SimulatePcaComponent_ng_container_39_Template, 4, 0, \"ng-container\", 16);\n          i0.ÉµÉµtemplate(40, SimulatePcaComponent_ng_template_40_Template, 4, 0, \"ng-template\", null, 17, i0.ÉµÉµtemplateRefExtractor);\n          i0.ÉµÉµelementEnd()();\n          i0.ÉµÉµtemplate(42, SimulatePcaComponent_p_42_Template, 2, 1, \"p\", 18);\n          i0.ÉµÉµelementEnd();\n        }\n        if (rf & 2) {\n          const _r7 = i0.ÉµÉµreference(41);\n          let tmp_1_0;\n          let tmp_3_0;\n          let tmp_4_0;\n          let tmp_6_0;\n          let tmp_7_0;\n          let tmp_9_0;\n          i0.ÉµÉµadvance(3);\n          i0.ÉµÉµproperty(\"formGroup\", ctx.simulateForm);\n          i0.ÉµÉµadvance(6);\n          i0.ÉµÉµproperty(\"ngClass\", i0.ÉµÉµpureFunction1(14, _c0, ((tmp_1_0 = ctx.simulateForm.get(\"incidentType\")) == null ? null : tmp_1_0.invalid) && ((tmp_1_0 = ctx.simulateForm.get(\"incidentType\")) == null ? null : tmp_1_0.touched)));\n          i0.ÉµÉµadvance(3);\n          i0.ÉµÉµproperty(\"ngForOf\", ctx.incidentTypes);\n          i0.ÉµÉµadvance(1);\n          i0.ÉµÉµproperty(\"ngIf\", ((tmp_3_0 = ctx.simulateForm.get(\"incidentType\")) == null ? null : tmp_3_0.invalid) && ((tmp_3_0 = ctx.simulateForm.get(\"incidentType\")) == null ? null : tmp_3_0.touched));\n          i0.ÉµÉµadvance(6);\n          i0.ÉµÉµproperty(\"ngClass\", i0.ÉµÉµpureFunction1(16, _c0, ((tmp_4_0 = ctx.simulateForm.get(\"impact\")) == null ? null : tmp_4_0.invalid) && ((tmp_4_0 = ctx.simulateForm.get(\"impact\")) == null ? null : tmp_4_0.touched)));\n          i0.ÉµÉµadvance(3);\n          i0.ÉµÉµproperty(\"ngForOf\", ctx.impacts);\n          i0.ÉµÉµadvance(1);\n          i0.ÉµÉµproperty(\"ngIf\", ((tmp_6_0 = ctx.simulateForm.get(\"impact\")) == null ? null : tmp_6_0.invalid) && ((tmp_6_0 = ctx.simulateForm.get(\"impact\")) == null ? null : tmp_6_0.touched));\n          i0.ÉµÉµadvance(6);\n          i0.ÉµÉµproperty(\"ngClass\", i0.ÉµÉµpureFunction1(18, _c0, ((tmp_7_0 = ctx.simulateForm.get(\"groupeId\")) == null ? null : tmp_7_0.invalid) && ((tmp_7_0 = ctx.simulateForm.get(\"groupeId\")) == null ? null : tmp_7_0.touched)));\n          i0.ÉµÉµadvance(3);\n          i0.ÉµÉµproperty(\"ngForOf\", ctx.groupes);\n          i0.ÉµÉµadvance(1);\n          i0.ÉµÉµproperty(\"ngIf\", ((tmp_9_0 = ctx.simulateForm.get(\"groupeId\")) == null ? null : tmp_9_0.invalid) && ((tmp_9_0 = ctx.simulateForm.get(\"groupeId\")) == null ? null : tmp_9_0.touched));\n          i0.ÉµÉµadvance(5);\n          i0.ÉµÉµproperty(\"disabled\", ctx.isSubmitting || ctx.simulateForm.invalid);\n          i0.ÉµÉµadvance(1);\n          i0.ÉµÉµproperty(\"ngIf\", !ctx.isSubmitting)(\"ngIfElse\", _r7);\n          i0.ÉµÉµadvance(3);\n          i0.ÉµÉµproperty(\"ngIf\", ctx.submissionMessage);\n        }\n      },\n      dependencies: [i2.NgClass, i2.NgForOf, i2.NgIf, i1.ÉµNgNoValidate, i1.NgSelectOption, i1.ÉµNgSelectMultipleOption, i1.DefaultValueAccessor, i1.SelectControlValueAccessor, i1.NgControlStatus, i1.NgControlStatusGroup, i1.FormGroupDirective, i1.FormControlName],\n      styles: [\".simulate-pca-container[_ngcontent-%COMP%] {\\n  max-width: 450px;\\n  margin: 2rem auto;\\n  padding: 1.5rem 2rem;\\n  background: white;\\n  border-radius: 12px;\\n  box-shadow: 0 12px 25px rgba(0, 0, 0, 0.1);\\n  font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\\n}\\n\\n.title[_ngcontent-%COMP%] {\\n  text-align: center;\\n  margin-bottom: 1.5rem;\\n  font-weight: 700;\\n  font-size: 1.8rem;\\n  color: #1976d2;\\n}\\n\\n.form[_ngcontent-%COMP%] {\\n  display: flex;\\n  flex-direction: column;\\n  gap: 1rem;\\n}\\n\\n.full-width[_ngcontent-%COMP%] {\\n  width: 100%;\\n}\\n\\n.submit-btn[_ngcontent-%COMP%] {\\n  display: flex;\\n  align-items: center;\\n  justify-content: center;\\n  gap: 0.6rem;\\n  font-weight: 600;\\n  font-size: 1rem;\\n  padding: 0.6rem;\\n  border-radius: 8px;\\n  transition: background-color 0.3s ease;\\n}\\n\\n.submit-btn[_ngcontent-%COMP%]:hover:not(:disabled) {\\n  background-color: #004ba0;\\n}\\n\\n.message[_ngcontent-%COMP%] {\\n  margin-top: 1rem;\\n  font-weight: 700;\\n  text-align: center;\\n  color: #2e7d32;\\n  -webkit-user-select: none;\\n          user-select: none;\\n}\\n@media (max-width: 480px) {\\n  .simulate-pca-container[_ngcontent-%COMP%] {\\n    padding: 1rem;\\n  }\\n}\"],\n      data: {\n        animation: [trigger('fadeInAnimation', [transition(':enter', [style({\n          opacity: 0,\n          transform: 'translateY(10px)'\n        }), animate('400ms ease-out', style({\n          opacity: 1,\n          transform: 'translateY(0)'\n        }))]), transition(':leave', [animate('300ms ease-in', style({\n          opacity: 0,\n          transform: 'translateY(10px)'\n        }))])])]\n      }\n    });\n  }\n}","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}