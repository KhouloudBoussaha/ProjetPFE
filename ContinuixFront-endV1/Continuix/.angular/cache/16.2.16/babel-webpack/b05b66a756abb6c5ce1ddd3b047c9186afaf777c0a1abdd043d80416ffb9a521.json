{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nexport let SidebarComponent = class SidebarComponent {\n  constructor(authService, router, notificationService) {\n    this.authService = authService;\n    this.router = router;\n    this.notificationService = notificationService;\n    this.username = '';\n    this.role = '';\n    this.displaymenu = false;\n    this.displayNotificationManagment = false;\n    this.displayUserManagment = false;\n    this.displayPcaManagment = false;\n    this.displayAlerteManagment = false;\n    this.displaySendNotification = false;\n    this.displayNotificationHistory = false;\n    this.displayConfirmationStatus = false;\n    this.displayConsultNotification = false;\n    this.currentRole = null;\n    this.notification = null;\n    this.isNotificationMenuOpen = false;\n    this.isUserMenuOpen = false;\n    this.isPcaMenuOpen = false;\n    this.isAlertMenuOpen = false;\n  }\n  ngOnInit() {\n    const username = localStorage.getItem('username');\n    this.username = username ?? 'Utilisateur';\n    const role = localStorage.getItem('role');\n    this.role = role ?? 'role';\n    this.MenuDisplay();\n  }\n  MenuDisplay() {\n    const token = this.authService.getJwt();\n    if (token) {\n      this.currentRole = this.authService.getRole();\n      console.log(\"Role actuel:\", this.currentRole);\n      this.displayUserManagment = this.currentRole === 'Admin';\n      this.displayPcaManagment = this.currentRole === 'SECURITYAGENT';\n      this.displayAlerteManagment = this.currentRole === 'SECURITYAGENT' || this.currentRole === 'MANAGER' || this.currentRole === 'TEAMLEADER' || this.currentRole === 'COLLABORATOR';\n      // Onglet Notification Managment (général)\n      this.displayNotificationManagment = this.currentRole === 'Admin';\n      // Sous-onglets Notification Management\n      this.displaySendNotification = this.currentRole === 'Admin';\n      this.displayNotificationHistory = this.currentRole === 'Admin';\n      this.displayConfirmationStatus = this.currentRole === 'Admin';\n      this.displayConsultNotification = this.currentRole === 'SECURITYAGENT' || this.currentRole === 'TEAMLEADER' || this.currentRole === 'MANAGER' || this.currentRole === 'COLLABORATOR';\n    }\n  }\n  logout() {\n    this.authService.logout();\n    this.router.navigate(['/login']);\n  }\n  isActive(paths) {\n    return paths.some(p => this.router.url.includes(p));\n  }\n};\nSidebarComponent = __decorate([Component({\n  selector: 'app-sidebar',\n  templateUrl: './sidebar.component.html',\n  styleUrls: ['./sidebar.component.css']\n})], SidebarComponent);","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}